<!DOCTYPE html>

<html>
    <head>
        <style>
            body {
                margin: 0;
                height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                background: #000;
                overflow: hidden;
            }

            .container {
                position: relative;
            }

            .text {
                font-family: Arial, sans-serif;
                font-size: 6rem;
                font-weight: bold;
                display: flex;
                gap: 5px;
            }

            .letter {
                opacity: 0;
                position: relative;
                background: linear-gradient(45deg, #2596be, #faa5b2);
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }

            .letter.visible {
                opacity: 1;
            }

            .letter.flash {
                animation: flashEffect 0.5s ease-out;
                opacity: 1;
            }

            .text.reveal .letter {
                animation: revealText 1s forwards;
                opacity: 1;
            }

            .text.final .letter {
                animation: finalGlow 2s ease-in-out infinite;
                background: linear-gradient(45deg, #2596be, #faa5b2);
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }

            .butterfly {
                position: absolute;
                width: 25px;
                height: 25px;
                opacity: 0;
                right: -100px;
                top: 50%;
                transform: translateY(-50%);
            }

            .butterfly.fly {
                animation: butterflyPath 3s forwards;   
            }

            .butterfly path {
                fill: #2596be;
                filter: drop-shadow(0 0 5px #2596be);
            }

            @keyframes flashEffect {
                0% {
                    color: white;
                    text-shadow: 0 0 20px #2596be, 0 0 40px #faa5b2;
                    transform: scale(1.5);
                }
                50% {
                    color: white;
                    text-shadow: 0 0 30px #2596be, 0 0 50px #faa5b2;
                }
                100% {
                    color: transparent;
                    text-shadow: none;
                    transform: scale(1);
                }
            }

            @keyframes revealText {
                0% {
                    opacity: 0;
                    transform: scale(1.5) rotate(10deg);
                    color: white;
                    text-shadow: 0 0 20px #2596be, 0 0 40px #faa5b2;
                }
                100% {
                    opacity: 1;
                    transform: scale(1) rotate(0);
                    color: transparent;
                }
            }

            @keyframes finalGlow {
                0%, 100% {
                    text-shadow: 0 0 15px rgba(37, 150, 190, 0.5), 0 0 30px rgba(250, 165, 178, 0.5);
                }
                50% {
                    text-shadow: 0 0 25px rgba(37, 150, 190, 0.7), 0 0 50px rgba(250, 165, 178, 0.7);
                }
            }

            @keyframes butterflyPath {
                0% {
                    opacity: 1;
                    transform: translate(0, -50%) rotate(0deg);
                }
                20% {
                    transform: translate(-20px, -80%) rotate(-15deg);
                }
                40% {
                    transform: translate(-40px, -110%) rotate(10deg);
                }
                60% {
                    transform: translate(-60px, -130%) rotate(-10deg);
                }
                80% {
                    transform: translate(-75px, -150%) rotate(5deg);
                }
                100% {
                    opacity: 1;
                    transform: translate(-90px, -170%) rotate(0deg);
                }
            }

            .butterfly-wings {
                animation: flapWings 0.2s ease-in-out infinite alternate;
            }

            @keyframes flapWings {
                0% {
                    transform: scaleX(1);
                }
                100% {
                    transform: scaleX(0.5);
                }
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="text"></div>
            <svg class="butterfly" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <g class="butterfly-wings">
                    <path d="M50 35 C20 35 20 65 50 65 C80 65 80 35 50 35 Z" />
                    <path d="M50 35 C35 20 65 20 65 50 C65 80 35 80 35 50 Z" />
                </g>
            </svg>
        </div>

        <script>
            const text = "LUNABY";
            const container = document.querySelector('.text');
            const letters = [];
            let flashCount = 0;
            const totalFlashes = 6;
            const usedIndices = new Set();

            text.split('').forEach(char => {
                const span = document.createElement('span');
                span.textContent = char;
                span.className = 'letter';
                container.appendChild(span);
                letters.push(span);
            })

            let lastIndex = -1;

            function flashRandomLetter() {
                letters.forEach(letter => {
                    letter.classList.remove('flash');
                    letter.classList.remove('visible');
                });

                if (flashCount >= totalFlashes) {
                    container.classList.add('reveal');
                    setTimeout(() => {
                    container.classList.add('final');
                    setTimeout(() => {
                        document.querySelector('.butterfly').classList.add('fly');
                    }, 500);
                    }, 1000);
                    return;
                }

                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * letters.length);
                } while (usedIndices.has(randomIndex));

                usedIndices.add(randomIndex);

                letters[randomIndex].classList.add('flash');
                letters[randomIndex].classList.add('visible');
                lastIndex = randomIndex;
                flashCount++;

                setTimeout(flashRandomLetter, 700);
            }

            setTimeout(flashRandomLetter, 500);
        </script>
    </body>
</html>